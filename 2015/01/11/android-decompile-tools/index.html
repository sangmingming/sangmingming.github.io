<!DOCTYPE html><html lang="Chinese"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> android反编译-反编译工具和方法 · 码农明明桑</title><meta name="description" content="android反编译-反编译工具和方法 - Sam"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://blog.isming.me/atom.xml" title="码农明明桑"></head><body><div class="wrap"><header><a href="/" class="logo-link"><!--img(src=url_for(theme.logo) alt="logo")--><h1>码农明明桑</h1></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/links" target="_self" class="nav-list-link">FRIENDS</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">ABOUT</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">android反编译-反编译工具和方法</h1><div class="post-info">Jan 11, 2015</div><div class="post-content"><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>开发过程中有些时候会遇到一些功能，自己不知道该怎么做，然而别的软件里面已经有了，这个时候可以采用反编译的方式，解开其他的程序，来了解一些它的做法，同时啊，还可以借鉴别人的软件结构，资源文件，等等，哈哈。那我就来讲解一些关于反编译相关的知识，主要分三篇，第一篇介绍反编译的工具和方法，第二篇，介绍smali的语法,第三篇介绍如何防止反编译，主要通过这几篇文章，了解如何去做反编译和代码加固。<br><a id="more"></a></p>
<h3 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h3><h4 id="apktools-目前最强大的反编译工具"><a href="#apktools-目前最强大的反编译工具" class="headerlink" title="apktools-目前最强大的反编译工具"></a>apktools-目前最强大的反编译工具</h4><p>轻松反编译apk，解析出资源文件，xml文件，生成smali文件，还可以把修改后的文件你想生成apk。</p>
<p>支持windows,linux,mac。 </p>
<p>下载地址:<a href="[https://code.google.com/p/android-apktool/downloads/list]">https://code.google.com/p/android-apktool/downloads/list</a> 请自备梯子</p>
<h4 id="dex2jar"><a href="#dex2jar" class="headerlink" title="dex2jar"></a>dex2jar</h4><p>将apk中的dex文件转换成为jar文件，很多人不会看smali文件，还是看java类文件比较舒服，这个时候可以借助这个工具来转成java,也是支持windows,linux,mac。</p>
<p>下载地址：<a href="http://code.google.com/p/dex2jar/downloads/list" target="_blank" rel="external">http://code.google.com/p/dex2jar/downloads/list</a></p>
<h4 id="jd-gui"><a href="#jd-gui" class="headerlink" title="jd-gui"></a>jd-gui</h4><p>查看jar文件,基本可以看到java class文件了，也是支持mac,windows,linux。</p>
<p>下载地址：<a href="http://jd.benow.ca/" target="_blank" rel="external">http://jd.benow.ca/</a></p>
<h4 id="apktool的命令行综合工具推荐-apktool-plus"><a href="#apktool的命令行综合工具推荐-apktool-plus" class="headerlink" title="apktool的命令行综合工具推荐 apktool plus"></a>apktool的命令行综合工具推荐 apktool plus</h4><p>其实是别人写的一个工具，集合了apktool的功能，另外还支持给apk签名。最新版本是v9update6，只支持windows系统。</p>
<p>下载地址：<a href="http://dl.dbank.com/c0jndlkbu4#" target="_blank" rel="external">http://dl.dbank.com/c0jndlkbu4#</a></p>
<h3 id="进行反编译"><a href="#进行反编译" class="headerlink" title="进行反编译"></a>进行反编译</h3><h4 id="使用apktools"><a href="#使用apktools" class="headerlink" title="使用apktools"></a>使用apktools</h4><p>在apktools目录下执行以下命令</p>
<blockquote>
<p>./apktool d pathtoapk outdir #mac linux<br>apktool.bat d pathtoapk outdir #window    </p>
</blockquote>
<p>这样就可以反编译成功了，可以查看其中的资源文件，smali文件，当然有的app进行了特殊处理，不是全部可以反编译的。</p>
<p>同时apktool还可以对反编译后的文件逆向成apk文件,格式如下。</p>
<blockquote>
<p>./apktool b apppath outpath</p>
</blockquote>
<p>逆向后的文件要是无签名的需要先签名才可以安装。</p>
<h4 id="使用dex2jar"><a href="#使用dex2jar" class="headerlink" title="使用dex2jar"></a>使用dex2jar</h4><p>apk文件本身其实就是一个zip压缩包，先讲apk改成一个<em>.zip</em>文件解压后得到一个classes.dex。到dex2jar的目录，执行以下命令.</p>
<blockquote>
<p>./d2j-dex2jar.sh pathtoclasses.dex  #mac linux<br>d2j-dex2jar.bat pathtoclasses.dex #wind</p>
</blockquote>
<p>之后会生成一个jar文件，用jd-gui打开就可以看到其中的java代码了。</p>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>其实我们使用的反编译也就这些足够了，通常很多时候无法获取很多的代码，毕竟人家也有措施应对的。</p>
<blockquote>
<p>原文地址：<a href="http://blog.isming.me/2015/01/11/android-decompile-tools/">http://blog.isming.me/2015/01/11/android-decompile-tools/</a>，转载请注明出处。</p>
</blockquote>
</div></article></div></main><footer><div class="paginator"><a href="/2015/01/14/android-decompile-smali/" class="prev">上一篇</a><a href="/2015/01/05/2014-review/" class="next">下一篇</a></div><div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div><script src="https://img1.cache.netease.com/f2e/tie/yun/sdk/loader.js"></script><script>var cloudTieConfig = {
    url: document.location.href,
    sourceId: "2015/01/11/android-decompile-tools/",
    productKey: "a094f65b0cf3436d922737584f8a4bb2",
    target: "cloud-tie-wrapper"
};
var yunManualLoad = true;
Tie.loader("aHR0cHM6Ly9hcGkuZ2VudGllLjE2My5jb20vcGMvbGl2ZXNjcmlwdC5odG1s", true);</script><div class="copyright"><p>© 2013 - 2017 <a href="http://blog.isming.me">Sam</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script src="//hm.baidu.com/h.js?c22f102f5fbaa79cf43b93add1805f4f"></script></body></html>